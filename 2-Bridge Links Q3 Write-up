Investigate the relation between the links S(p,q) and S(p,q') when qq' ≡ 1(mod p).

We find that the diagrams are vertically flipped and the continued fraction expansion of both (p,q) and (p,q') are (i) flipped and (ii) are always of length 3. To see (i) and (ii), let us consider a numerical example. We let p = 23, q = 4, and q' = 6. Then, upon evaluation we get [5,1,3] and [3,1,5] respectively. We can justify this pattern with a range of examples. Thus, let us generalise this process, considering (i) Cont_Frac_Exp1(p,q)=[a,b,c] and (ii) Cont_Frac_Exp1(p,q') = [c,b,a]. For (i), we get that p/q = a+1/(b+1/c) = (acb+a+c)/(cb+1), where p = acb+a+c and q = cb+1. For (ii), we get that p/q' = c+1/(b+1/a) = (acb+a+c)/(ab+1), where p = acb+a+c, and q' = ab+1. Performing some basic algebraic manipulation, we find that qq' = (acb^2+ab+cb+1) ≡ b(acb+a+c)+1 (mod (acb+a+c)). Hence, qq' ≡ bp+1 (mod p), i.e. qq' ≡ 1(mod p). So, we have shown algebraically why qq' ≡ 1(mod p). 

We now move on to why Cont_Frac_Exp1(p,q) always outputs a list of length 3, given qq' ≡ 1(mod p). We have already provided an example on how Cont_Frac_Exp1(p,q) does output a list of length 3, but we will show that any list it outputs will be of length 3, with the condition that qq' ≡ 1(mod p). 

Consider a continued fraction of length 1. This implies q|p, i.e. q = mp for some integer m, and so qq' (mod p) ≡ 0. Now, consider a continued fraction of length 2, say Cont_Frac_Exp1[a,b] and Cont_Frac_Exp1[b,a]. Then, p/q = a+1/b = (ab+1)/b, and p/q' = b+1/a = (ab+1)/a. So, qq' = ab and p=ab+1, implying that qq' (mod p) = -1 ≠ 1. Now, let us jump to a list of length 4. Consider (p,q) = [a,b,c,d] and (p,q') = [d,c,b,a]. Then, p/q = a+1/(b+1/(c+1/d)) = a+(cd+1/bcd+b+d) = (abcd+ba+bd+cd+1)/(bcd+b+d) = (a(bcd+b+d)+cd+1)/(bcd+b+d). Here, p = a(bcd+b+d)+cd+1 and q = bcd+b+d, and thus q (mod p) ≡ cd+1. Using the same logic for p/q' to find q', we can swap a and d, b and c, to get q' = cba+b+a. Thus, qq' = (bcd+b+d)(cba+c+a), which naturally does not factor to 1. Now, for a length 5 or more, since the factorisation of [a,b,c,d,e,...] depends on the factorisation of length 4, we arrive at the conclusion that it will not satisfy qq' ≡ 1(mod p). 

Hence, we have shown that qq' ≡ 1(mod p) is only possible when len(Cont_Frac_Exp1(p,q)) = len(Cont_Frac_Exp1(p,q')) = 3. Further, we have shown that the continued fraction expansions are always flipped, and so the diagrams S(p,q) and S(p,q') preserve the same structure as they are knots and crossings, but are vertically flipped. 
